# Test Cases: Document Handling

This document contains test cases for the Document Handling user stories (US2.1 - US2.9).

## TC-DH1: Navigate Project Contents (US2.1)

### Description
Verify that authenticated users can navigate the folder and document structure of a project.

### Pre-conditions
- User is logged in (TC-C1)
- User has access to at least one project with multiple folders and documents
- User has navigated to a specific project's details page (TC-C5)

### Test Steps
1. Click on the "View Documents" button
2. Observe the folder structure in the left sidebar
3. Click on a folder to view its contents
4. Navigate back to a parent folder using breadcrumbs

### Expected Results
- User is redirected to the project documents page
- Folder structure is displayed in the left sidebar as a tree view
- Clicking on a folder shows its contents in the main content area
- Breadcrumbs show the current path within the folder structure
- Navigation back to parent folders works correctly

### UI Elements
- "View Documents" button on project details page
- Folder tree component in the left sidebar
- Document list in the main content area
- Breadcrumbs component showing the current path
- Loading spinner when fetching folders/documents

## TC-DH2: Upload Single Document (US2.2)

### Description
Verify that a Project Manager can upload a single document to a project folder.

### Pre-conditions
- User is logged in as a Project Manager (TC-C1)
- User has navigated to a specific project's documents section (TC-DH1)

### Test Steps
1. Navigate to the desired folder for upload
2. Click on "Upload Document" button
3. Select a single file (e.g., a PDF document) from the file selector
4. Confirm the upload by clicking "Upload" button in the upload form

### Expected Results
- Upload progress indicator is shown
- Document is successfully uploaded to the selected folder
- New document appears in the folder's contents list
- Success toast message is displayed

### UI Elements
- "Upload Document" button with upload icon in the document toolbar
- Document upload form with:
  - File selector/drop area
  - Selected file information display
  - "Upload" button (accent color)
  - "Cancel" button (outline style)
- Progress indicator during upload
- Toast notification for success/error messages

## TC-DH3: Upload Multiple Documents (US2.2)

### Description
Verify that a Project Manager can upload multiple documents simultaneously.

### Pre-conditions
- User is logged in as a Project Manager (TC-C1)
- User has navigated to a specific project's documents section (TC-DH1)

### Test Steps
1. Navigate to the desired folder for upload
2. Click on "Upload Document" button
3. Select multiple files of different formats (e.g., PDF, DOCX, TXT) from the file selector
4. Confirm the upload by clicking "Upload" button in the upload form

### Expected Results
- Upload progress indicator is shown for each file
- All documents are successfully uploaded to the selected folder
- New documents appear in the folder's contents list
- Success toast message is displayed

### UI Elements
- "Upload Document" button with upload icon in the document toolbar
- Document upload form with:
  - File selector/drop area with multiple file selection
  - List of selected files with information
  - "Upload" button (accent color)
  - "Cancel" button (outline style)
- Progress indicator for each file during upload
- Toast notification for success/error messages

### Negative Test Cases
- TC-DH3.1: Attempt to upload a file with an unsupported format
- TC-DH3.2: Attempt to upload a file that exceeds the maximum file size limit
- TC-DH3.3: Attempt to upload a file with a name containing invalid characters

## TC-DH4: Create New Folder (US2.3)

### Description
Verify that a Project Manager can create a new folder in the project structure.

### Pre-conditions
- User is logged in as a Project Manager (TC-C1)
- User has navigated to a specific project's documents section (TC-DH1)

### Test Steps
1. Navigate to the desired parent folder (or root level)
2. Click on "New Folder" button
3. Enter a name for the new folder in the "Folder Name" field
4. Click "Create" button

### Expected Results
- New folder is created successfully
- New folder appears in the folder structure
- Success toast message is displayed
- User can navigate into the newly created folder

### UI Elements
- "New Folder" button with folder-plus icon in the document toolbar
- Create Folder dialog with:
  - "Folder Name" input field
  - "Create" button (accent color)
  - "Cancel" button (outline style)
- Toast notification for success/error messages

### Negative Test Cases
- TC-DH4.1: Attempt to create a folder with an empty name
- TC-DH4.2: Attempt to create a folder with a name containing invalid characters
- TC-DH4.3: Attempt to create a folder with a name that already exists in the same parent folder

## TC-DH5: View Document (US2.4)

### Description
Verify that users can view documents in the system.

### Pre-conditions
- User is logged in (TC-C1)
- User has navigated to a specific project's documents section (TC-DH1)
- Project contains at least one viewable document

### Test Steps
1. Locate a document in the document list
2. Click on the document name or icon

### Expected Results
- Document viewer opens
- Document content is displayed correctly based on file type
- Document viewer includes navigation and zoom controls
- User can return to the document list

### UI Elements
- Document list with clickable document names/icons
- Document viewer with:
  - Document content display area
  - Navigation controls (if multi-page document)
  - Zoom controls
  - Close button to return to document list
- Loading spinner while document is being loaded

## TC-DH6: Delete Document (US2.5)

### Description
Verify that a Project Manager can delete a document.

### Pre-conditions
- User is logged in as a Project Manager (TC-C1)
- User has navigated to a specific project's documents section (TC-DH1)
- Project contains at least one document

### Test Steps
1. Locate a document in the document list
2. Click on the delete icon or option for that document
3. Confirm deletion in the confirmation dialog by clicking "Delete"

### Expected Results
- Confirmation dialog appears with warning about permanent deletion
- After confirmation, document is successfully deleted
- Document no longer appears in the document list
- Success toast message is displayed

### UI Elements
- Delete icon or option for each document in the list
- Delete Document confirmation dialog with:
  - Warning message about permanent deletion
  - Document name to confirm what's being deleted
  - "Delete" button (accent/danger color)
  - "Cancel" button (outline style)
- Toast notification for success/error messages

## TC-DH7: Delete Folder (US2.6)

### Description
Verify that a Project Manager can delete a folder and its contents.

### Pre-conditions
- User is logged in as a Project Manager (TC-C1)
- User has navigated to a specific project's documents section (TC-DH1)
- Project contains at least one folder

### Test Steps
1. Locate a folder in the folder structure
2. Right-click on the folder or use its context menu to find delete option
3. Click on the delete option
4. Confirm deletion in the confirmation dialog by clicking "Delete"

### Expected Results
- Confirmation dialog appears with warning about permanent deletion of folder and all its contents
- After confirmation, folder and all its contents are successfully deleted
- Folder no longer appears in the folder structure
- Success toast message is displayed

### UI Elements
- Context menu or delete icon for folders
- Delete Folder confirmation dialog with:
  - Warning message about permanent deletion of folder and all contents
  - Folder name to confirm what's being deleted
  - "Delete" button (accent/danger color)
  - "Cancel" button (outline style)
- Toast notification for success/error messages

## TC-DH8: Search for Documents (US2.7)

### Description
Verify that users can search for documents within a project.

### Pre-conditions
- User is logged in (TC-C1)
- User has navigated to a specific project's documents section (TC-DH1)
- Project contains multiple documents with different names and content

### Test Steps
1. Locate the search field in the document section
2. Enter a search term that should match document names or content
3. Press Enter or click the search icon
4. Observe the search results

### Expected Results
- Search is performed and results are displayed
- Results include documents with names matching the search term
- Results may include documents with content matching the search term (if content search is implemented)
- Each result shows document name, location (folder path), and possibly a content snippet
- Clicking on a search result opens that document

### UI Elements
- Search field in the document section
- Search button or icon
- Search results list showing matching documents
- Clear search button to reset results
- Loading indicator while search is being performed

## TC-DH9: Document Version Control (US2.8)

### Description
Verify that the system maintains version history when documents are updated.

### Pre-conditions
- User is logged in as a Project Manager (TC-C1)
- User has navigated to a specific project's documents section (TC-DH1)
- Project contains at least one document

### Test Steps
1. Locate an existing document in the document list
2. Upload a new version of the document with the same name (TC-DH2)
3. View the document details or version history

### Expected Results
- System accepts the new version of the document
- Document shows an indication that it has multiple versions
- Version history is accessible and shows both versions
- User can view or download any version of the document

### UI Elements
- Document upload form (as described in TC-DH2)
- Version indicator on documents with multiple versions
- Version history view showing:
  - List of versions with timestamps and user who uploaded
  - Options to view or download each version
  - Possibly version comments or notes

## TC-DH10: Document Metadata (US2.9)

### Description
Verify that users can view and edit document metadata.

### Pre-conditions
- User is logged in (TC-C1)
- User has navigated to a specific project's documents section (TC-DH1)
- Project contains at least one document

### Test Steps
1. Locate a document in the document list
2. Access the document's properties or metadata view
3. View the existing metadata
4. If user is a Project Manager, edit some metadata fields
5. Save the changes

### Expected Results
- Document metadata is displayed correctly
- For Project Managers, metadata fields are editable
- Changes to metadata are saved successfully
- Updated metadata is displayed correctly after saving

### UI Elements
- Document properties or metadata access point (icon, context menu, or button)
- Metadata view showing:
  - Document name
  - File type and size
  - Upload date and user
  - Custom metadata fields (if implemented)
- For Project Managers:
  - Editable metadata fields
  - "Save" button to confirm changes
  - "Cancel" button to discard changes
- Toast notification for success/error messages 